<% const collection="product" ; const linkPrefix=`/admin/${collection}/` ; const linkThumb='' ; const folderImage = '/products/' %>
    <div class="card card-info card-outline">
        <form action="<%= linkPrefix %>form/<%= item._id %>" method="POST" class="mb-0" enctype="multipart/form-data">
            <div class="card-body">
                <h1>
                    <%= title %>
                </h1>

                <% if (alert && alert.length > 0) { %>
                    <% alert.forEach(error => { %>
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                            <%= error.msg %>
                            <button type="button" class="close" data-dismiss="alert" aria-label="close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    <% }) %>
                <% } %>

                <div class="form-group row">
                    <label for="name" class="col-sm-2 col-form-label text-sm-right required">Name</label>
                    <div class="col-xs-12 col-sm-8">
                        <input type="text" id="name-input-form" name="name" class="form-control form-control-sm"
                            value="<%= item.name %>">
                    </div>
                </div>           

                <div class="form-group row">
                    <label for="name" class="col-sm-2 col-form-label text-sm-right required">Ordering</label>
                    <div class="col-xs-12 col-sm-8">
                        <input type="text" name="ordering" class="form-control form-control-sm"
                            value="<%= item.ordering %>">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="status" class="col-sm-2 col-form-label text-sm-right">Status</label>
                    <div class="col-xs-12 col-sm-8">
                        <select id="status" name="status" class="custom-select custom-select-sm">
                            <option value="novalue">Choose Status</option>
                            <option value="active" <%=item.status==='active' ? 'selected' : '' %>>
                                Active</option>
                            <option value="inactive" <%=item.status==='inactive' ? 'selected' : '' %>>
                                Inactive</option>
                        </select>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="price" class="col-sm-2 col-form-label text-sm-right required">Price</label>
                    <div class="col-xs-12 col-sm-8">
                      <input type="number" step="0.01" name="price" class="form-control form-control-sm" value="<%= item.price || '' %>" />
                    </div>
                </div>

                <div class="form-group row">
                    <label for="GroupCategory" class="col-sm-2 col-form-label text-sm-right">GroupCategory</label>
                    <div class="col-xs-12 col-sm-8">
                        <select class="custom-select custom-select-sm" name="idCategory" aria-label="Default select example">
                            <option value="novalue">Choose Group</option>
                            <% categories.forEach(e => { %>
                                <% if (e.status == 'active') { %>
                                    <option value="<%= e._id %>"><%= e.name %></option>
                                <% } %>
                            <% }) %>
                          </select>
                    </div>
                </div>

                <!-- <div class="form-group row">
                    <label for="details_product" class="col-sm-2 col-form-label text-sm-right">Details Product</label>
                    <div class="col-xs-12 col-sm-8">
                      <textarea name="editor" id="editor" class="form-control form-control-sm"><%= item.detail || '' %></textarea>
                    </div>
                </div> -->
                <textarea name="content" id="editor1" rows="10" cols="80">
                    This is my textarea to be replaced with CKEditor 4.
                </textarea>

                <!-- <div class="form-group row">
                    <label for="isSpecial" class="col-sm-2 col-form-label text-sm-right">Is Special</label>
                    <div class="col-xs-12 col-sm-8">
                      <input type="checkbox" id="isSpecial" name="isSpecial" <%= item.isSpecial ? "checked" : '' %> />
                    </div>
                </div> -->

                <div class="form-group row">
                    <label for="image" class="col-sm-2 col-form-label text-sm-right">Image</label>
                    <div class="col-xs-12 col-sm-8">
                        <input type="file" name="image" class="form-control form-control-sm" id="imgInp" />
                        <img id="blah" src="/uploads<%= folderImage%><%= item.image %>" alt="" class="img-thumbnail mt-1 " width="200px" height="200px" />
                        <input type="hidden" name="old_image" value="<%= item.image %>">                
                    </div>
                </div>

           </div>
            <div class="card-footer">
                <div class="col-12 col-sm-8 offset-sm-2">
                    <button type="submit" class="btn btn-sm btn-success mr-1">
                        <%= item._id ? 'Update': 'Add' %></button>
                    <a href="<%= linkPrefix %>" class="btn btn-sm btn-danger mr-1">
                        Cancel</a>
                </div>
            </div>
        </form>
    </div>

    <script>ClassicEditor
        .create(document.querySelector('#editor1'))
        .catch(error => {
            console.error(error);
        });
    </script>

