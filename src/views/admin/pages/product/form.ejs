<% const collection="product" ; const linkPrefix=`/admin/${collection}/` ; const linkThumb='' ; const folderImage = '/products/' %>
    <div class="card card-info card-outline">
        <form action="<%= linkPrefix %>form/<%= item._id %>" method="POST" class="mb-0" enctype="multipart/form-data">
            <div class="card-body">
                <h1>
                    <%= title %>
                </h1>

                <% if (alert && alert.length > 0) { %>
                    <% alert.forEach(error => { %>
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                            <%= error.msg %>
                            <button type="button" class="close" data-dismiss="alert" aria-label="close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    <% }) %>
                <% } %>

                <div class="form-group row">
                    <label for="name" class="col-sm-2 col-form-label text-sm-right required">Name</label>
                    <div class="col-xs-12 col-sm-8">
                        <input type="text" id="name-input-form" name="name" class="form-control form-control-sm"
                            value="<%= item.name %>">
                    </div>
                </div>           

                <div class="form-group row">
                    <label for="name" class="col-sm-2 col-form-label text-sm-right required">Ordering</label>
                    <div class="col-xs-12 col-sm-8">
                        <input type="text" name="ordering" class="form-control form-control-sm"
                            value="<%= item.ordering %>">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="status" class="col-sm-2 col-form-label text-sm-right">Status</label>
                    <div class="col-xs-12 col-sm-8">
                        <select id="status" name="status" class="custom-select custom-select-sm">
                            <option value="novalue">Choose Status</option>
                            <option value="active" <%=item.status==='active' ? 'selected' : '' %>>
                                Active</option>
                            <option value="inactive" <%=item.status==='inactive' ? 'selected' : '' %>>
                                Inactive</option>
                        </select>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="price" class="col-sm-2 col-form-label text-sm-right required">Price</label>
                    <div class="col-xs-12 col-sm-8">
                      <input type="number" step="0.01" name="price" class="form-control form-control-sm" value="<%= item.price || '' %>" />
                    </div>
                </div>

                <!-- <div class="form-group row">
                    <label for="GroupCategory" class="col-sm-2 col-form-label text-sm-right">GroupCategory</label>
                    <div class="col-xs-12 col-sm-8">
                        <select class="custom-select custom-select-sm" name="idCategory" aria-label="Default select example">
                            <option value="novalue">Choose Group</option>
                            <% categories.forEach(e => { %>
                                <% if (e.status == 'active') { %>
                                    <option value="<%= e._id %>" <%= item.idCategory && item.idCategory.toString() === e._id.toString() ? "selected" : '' %>><%= e.name %></option>
                                <% } %>
                            <% }) %>
                          </select>
                    </div>
                </div> -->




                <div class="form-group row">
                    <label for="details_product" class="col-sm-2 col-form-label text-sm-right">Details Product</label>
                    <div class="col-xs-12 col-sm-8">
                      <textarea name="detail" id="edit" class="form-control form-control-sm"><%= item.detail || '' %></textarea>
                    </div>
                </div>


                <!-- <div class="form-group row">
                    <label for="isSpecial" class="col-sm-2 col-form-label text-sm-right">Is Special</label>
                    <input type="checkbox" id="isSpecial" name="isSpecial" <%= item.isSpecial ? "checked" : '' %> />
                </div> -->

                <!-- <div class="form-group row">
                    <label for="isSpecial" class="col-sm-2 col-form-label text-sm-right">Images</label>
                    <div class="col-xs-12 col-sm-8">
                        <input type="file" 
                            id="filepond"
                            class="filepond"
                            name="filepond[]" 
                            multiple 
                            data-allow-reorder="true"
                            data-max-file-size="3MB"
                            data-max-files="3">
                    </div>
                </div> -->

                <div class="form-group row">
                    <label for="images" class="col-sm-2 col-form-label text-sm-right">Images</label>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-default">
                                <div class="card-header">
                                    <h3 class="card-title">Dropzone.js <small><em>jQuery File Upload</em> like look</small></h3>
                                </div>
                                <div class="card-body">
                                    <div id="actions" class="row">
                                        <div class="col-lg-6">
                                            <div class="btn-group w-100">
                                                <span class="btn btn-success col fileinput-button">
                                                    <i class="fas fa-plus"></i>
                                                    <span>Add files</span>
                                                </span>
                                                <button type="submit" class="btn btn-primary col start">
                                                    <i class="fas fa-upload"></i>
                                                    <span>Start upload</span>
                                                </button>
                                                <button type="reset" class="btn btn-warning col cancel">
                                                    <i class="fas fa-times-circle"></i>
                                                    <span>Cancel upload</span>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 d-flex align-items-center">
                                            <div class="fileupload-process w-100">
                                                <div id="total-progress" class="progress progress-striped active" role="progressbar"
                                                    aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                                                    <div class="progress-bar progress-bar-success" style="width:0%;" data-dz-uploadprogress>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="table table-striped files" id="previews">
                                        <div id="template" class="row mt-2">
                                            <div class="col-auto">
                                                <span class="preview"><img src="data:," alt data-dz-thumbnail /></span>
                                            </div>
                                            <div class="col d-flex align-items-center">
                                                <p class="mb-0">
                                                    <span class="lead" data-dz-name></span>
                                                    (<span data-dz-size></span>)
                                                </p>
                                                <strong class="error text-danger" data-dz-errormessage></strong>
                                            </div>
                                            <div class="col-4 d-flex align-items-center">
                                                <div class="progress progress-striped active w-100" role="progressbar" aria-valuemin="0"
                                                    aria-valuemax="100" aria-valuenow="0">
                                                    <div class="progress-bar progress-bar-success" style="width:0%;" data-dz-uploadprogress>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-auto d-flex align-items-center">
                                                <div class="btn-group">
                                                    <button class="btn btn-primary start">
                                                        <i class="fas fa-upload"></i>
                                                        <span>Start</span>
                                                    </button>
                                                    <button data-dz-remove class="btn btn-warning cancel">
                                                        <i class="fas fa-times-circle"></i>
                                                        <span>Cancel</span>
                                                    </button>
                                                    <button data-dz-remove class="btn btn-danger delete">
                                                        <i class="fas fa-trash"></i>
                                                        <span>Delete</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                

                <div class="form-group row">
                    <label for="image" class="col-sm-2 col-form-label text-sm-right">Image</label>
                    <div class="col-xs-12 col-sm-8">
                        <input type="file" name="image" class="form-control form-control-sm" id="imgInp" />
                        <img id="blah" src="/uploads<%= folderImage%><%= item.image %>" alt="" class="img-thumbnail mt-1 " width="200px" height="200px" />
                        <input type="hidden" name="old_image" value="<%= item.image %>">                
                    </div>
                </div>

           </div>
            <div class="card-footer">
                <div class="col-12 col-sm-8 offset-sm-2">
                    <button type="submit" class="btn btn-sm btn-success mr-1">
                        <%= item._id ? 'Update': 'Add' %></button>
                    <a href="<%= linkPrefix %>" class="btn btn-sm btn-danger mr-1">
                        Cancel</a>
                </div>
            </div>
        </form>
    </div>
